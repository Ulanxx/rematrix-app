## Context
目前的 PPT 生成流程中，每一页幻灯片由 AI 独立生成。虽然提供了统一的主题配置（颜色、字体），但 AI 在每一页生成的布局细节（如页码位置、页眉样式、背景装饰）可能存在微小差异，导致整体视觉不统一。

## Goals
- 建立“母版”概念，由系统统一控制共有视觉元素（页码、页眉、Logo 等）。
- 确保所有幻灯片页面在视觉细节上保持 100% 一致。
- 降低 AI 生成内容的复杂度，让 AI 专注于幻灯片主体的排版。

## Decisions

### 1. 结构分离
将幻灯片分为三层结构：
- **背景层 (Background Layer)**: 统一的背景渐变、装饰图形。
- **内容层 (Content Layer)**: AI 生成的核心内容（标题、图表、文字）。
- **母版装饰层 (Master Overlay Layer)**: 统一的页码、页眉、课程标题、状态标识。

### 2. 变量占位符系统
在母版中定义变量占位符，由 `PptService` 在包装阶段进行替换：
- `{{pageNumber}}`: 当前页码。
- `{{totalSlides}}`: 总页数。
- `{{courseTitle}}`: 课程/演示文稿标题。

### 3. CSS 注入逻辑
母版样式将作为全局 CSS 注入，内容层的 AI 生成代码应遵循预定义的类名规范（如 `content-area`），以确保不遮挡母版元素。

## Risks / Trade-offs
- **灵活性牺牲**: 母版固定了某些位置（如页码），AI 生成内容如果占据了相同位置可能导致重叠。
- **复杂度增加**: `PptService` 的包装逻辑变得更加复杂。

## Migration Plan
- 渐进式更新：默认开启母版，但允许通过配置关闭。
- 更新测试脚本，验证母版渲染效果。
